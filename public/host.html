<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Host Game - Paper Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
    <h1>🗞️ Host Paper Game</h1>
        
        <!-- WiFi Settings -->
        <div id="wifi-settings-section" class="section">
            <h2>📶 WiFi Settings</h2>
            <p class="instructions">Set up WiFi information for your players</p>
            
            <form id="wifi-form">
                <div class="form-group">
                    <label for="wifi-network">📡 WiFi Network Name</label>
                    <input type="text" id="wifi-network" required placeholder="Enter WiFi network name">
                </div>
                <div class="form-group">
                    <label for="wifi-password">🔐 WiFi Password</label>
                    <input type="text" id="wifi-password" required placeholder="Enter WiFi password">
                </div>
                <button type="submit" class="btn btn-primary btn-large">Create Game</button>
            </form>
        </div>

        <!-- Room Created -->
        <div id="waiting-section" class="section hidden">
            <div class="room-code-display">
                <h2>📄 Room Code</h2>
                <div class="room-code" id="room-code">----</div>
                <p class="instructions">Share this code with your friends!</p>
            </div>

            <div class="info" style="background: #E6F0FA; border: 2px dashed #6E9ECF; border-radius: 12px; padding: 12px; margin: 15px auto; width: fit-content; text-align: center;">
                <strong>📝 English words only please!</strong>
            </div>

            <div class="wifi-alert" style="background: #FFF7D6; border: 3px dashed #E3C044; border-radius: 12px; padding: 16px; margin: 20px auto; box-shadow: 4px 4px 0 rgba(0,0,0,0.08); transform: rotate(-0.3deg); width: fit-content; text-align: center;">
                <div style="font-size: 1.2em; font-weight: 700; color: #B8860B; margin-bottom: 8px;">🚨 WiFi Connection Needed</div>
                <div style="font-size: 1em; color: #8B7355; margin-bottom: 6px;"><strong>Network:</strong> <span id="display-wifi-network">---</span></div>
                <div style="font-size: 1em; color: #8B7355;"><strong>Password:</strong> <span id="display-wifi-password">---</span></div>
            </div>

            <div id="qr-section" style="margin: 20px 0; text-align: center;">
                <div id="qrcode"></div>
                <p id="qr-link" class="instructions" style="word-break: break-all; margin-top: 10px;"></p>
                <p class="instructions">Scan to join on your phone!</p>
            </div>
            
            <div id="player-list">
                <h3>Players: <span id="player-count">0</span></h3>
                <div id="players-grid"></div>
            </div>
            
            <button id="start-game-btn" class="btn btn-success" disabled>Start Game</button>
        </div>

        <!-- Game Playing -->
        <div id="game-section" class="section hidden">
            <h2>📝 Let's Play!</h2>
            <p class="instructions">Listen to the words and have players guess!</p>
            
            <div class="controls">
                <button id="read-words-btn" class="btn btn-primary">Read All Words</button>
                <button id="repeat-words-btn" class="btn btn-secondary">Repeat</button>
            </div>
            
            <div id="word-display">
                <p id="current-word">Click 'Read All Words' to begin</p>
            </div>
            
            <button id="reveal-btn" class="btn btn-warning">Reveal Answers</button>
        </div>

        <!-- Reveal Section -->
        <div id="reveal-section" class="section hidden">
            <h2>📑 Word Reveal</h2>
            <div id="reveal-list"></div>
            <button id="new-game-btn" class="btn btn-primary">New Game</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="host.js"></script>
    <script>
        // Generate QR code for join page
        (function() {
            var joinUrl = window.location.href.replace(/\/host.*/, '') + '/join';
            var qr = new QRious({
                value: joinUrl,
                size: 140
            });
            document.getElementById('qrcode').appendChild(qr.canvas);
            document.getElementById('qr-link').textContent = joinUrl;
        })();
    </script>
</body>
</html>
